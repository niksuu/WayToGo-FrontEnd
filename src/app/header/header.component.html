<div class="nav-container">

  <div (click)="collapsed = true" class="nav-header">
    <a routerLink="/">WayToGo </a>
  </div>

  <div style="flex-grow: 1"></div>

  <!--<div class=" hamburger-menu" (click)="collapsed = !collapsed" *ngIf="mobileVersion">
    <span *ngIf="collapsed" aria-hidden="true" class=" icon glyphicon glyphicon-remove"></span>
    <span *ngIf="!collapsed" aria-hidden="true" class="icon glyphicon glyphicon-menu-hamburger"></span>
  </div>-->


  <i (click)="collapsed = !collapsed" *ngIf="!collapsed && mobileVersion"
     class="fa fa-remove mobile-collapse-btn"></i>
  <i (click)="collapsed = !collapsed" *ngIf="collapsed && mobileVersion"
     class="fa fa-bars mobile-collapse-btn"></i>


  <ng-template #repeatableContent>
    <div [ngClass]="mobileVersion ? 'mobile-nav-item' : 'nav-item'" routerLinkActive="active-link">
      <a routerLink="routes/list">Routes</a>
    </div>

    <div [ngClass]="mobileVersion ? 'mobile-nav-item' : 'nav-item'" routerLinkActive="active-link">
      <a routerLink="vicinity">Vicinity</a>
    </div>

    <div *ngIf="isLoggedIn" [ngClass]="mobileVersion ? 'mobile-nav-item' : 'nav-item'" routerLinkActive="active-link">
      <a routerLink="yourRoutes/list">Your Routes</a>
    </div>


    <div *ngIf="!isLoggedIn" [ngClass]="mobileVersion ? 'mobile-nav-item' : 'nav-item'" routerLinkActive="active-link">
      <a routerLink="log-in">Login</a>
    </div>


    <div *ngIf="isLoggedIn" [ngClass]="mobileVersion ? 'mobile-nav-item' : 'nav-item'"
         [routerLinkActiveOptions]="{ exact: true }"
         routerLinkActive="active-link">
      <a routerLink="users/1">User profile </a>
    </div>


    <div *ngIf="!isLoggedIn" [ngClass]="mobileVersion ? 'mobile-nav-item' : 'nav-item'"
         [routerLinkActiveOptions]="{ exact: true }"
         routerLinkActive="active-link">
      <a routerLink="register">Register </a>
    </div>


    <div *ngIf="isLoggedIn" [ngClass]="mobileVersion ? 'mobile-nav-item' : 'nav-item'"
         [routerLinkActiveOptions]="{ exact: true }"
         routerLinkActive="active-link">
      <a (click)="logout()" class="logout-link">Logout</a>
    </div>
  </ng-template>

  <ng-container *ngIf="!mobileVersion;">
    <ng-container *ngTemplateOutlet="repeatableContent"></ng-container>
  </ng-container>


</div>


<div  *ngIf="!collapsed && mobileVersion"
      class="background-cover">

  <div (click)="collapsed = !collapsed"
       class="menu-collapsed">

    <ng-container *ngTemplateOutlet="repeatableContent"></ng-container>


    <div class="bg"></div>
    <div class="bg bg2"></div>
    <div class="bg bg3"></div>


  </div>

</div>


<!-- prev header (dont delete!!!)
<nav class="navbar navbar-default" style="margin-bottom: 0px">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" (click)="collapsed = !collapsed">
        <span class="icon-bar" *ngFor="let iconBar of [1, 2, 3, 4]"></span>
      </button>
      <a routerLink="/" class="navbar-brand">WayToGo </a>

    </div>

    <div class="navbar-collapse" [class.collapse]="collapsed" (window:resize)="collapsed = true"
         [ngClass]="{ 'not-collapsed': !collapsed, 'collapsed': collapsed }">
      <ul class="nav navbar-nav">
        <li routerLinkActive="active"><a routerLink="routes/list">Routes</a></li>
        <li routerLinkActive="active"><a  routerLink="users/1/routes">Your Routes</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown"  appDropdown>
          <a  class="dropdown-toggle" role="button">Settings<span class="caret"></span> </a>
          <ul class="dropdown-menu">
            <li><a> Option 1 </a> </li>
            <li><a> Option 2 </a> </li>
          </ul>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li routerLinkActive="active"><a routerLink="log-in">Log in / Log out</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }"><a routerLink="users/1">User profile </a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }"><a routerLink="register">Register </a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }"><a routerLink="logout">Logout </a></li>
      </ul>
    </div>

  </div>
</nav>-->



